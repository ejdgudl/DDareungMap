# DDareung MAp
- 개인 Toy Project
- 20.10.25 배포
- <https://apps.apple.com/us/app/따릉맵/id1536517033>

# Intro 
- 서울시 공공 자전거 실시간 현황, 지하철 역정보 OpenApi를 사용하여 진행한 Project

#### 사용라이브러리
- Alamofire
- SnapKit
- Loaf
- Floaty

## 현재 자전거 대여소의 남은 자전거 개수와 사용자의 거리로부터 측정거리를 확인
<p align="center">
<img width="250" alt="1" src="https://user-images.githubusercontent.com/63357508/96608751-b7ee3180-1334-11eb-9f9e-ffa9b131ecce.gif">
<img width="250" alt="1" src="https://user-images.githubusercontent.com/63357508/96609200-39de5a80-1335-11eb-8f43-3d177c64e6b4.gif">
</p>

## 현재 사용자의 위치로 이동, 지하철역 이름을 검색하여 이동
<p align="center">
<img width="250" alt="2" src="https://user-images.githubusercontent.com/63357508/96608762-bc1a4f00-1334-11eb-9dee-cdf1c4fe1f0e.gif">
<img width="250" alt="2" src="https://user-images.githubusercontent.com/63357508/96609633-afe2c180-1335-11eb-9666-989253014c9e.gif">  
</p>



# Reject 

<p align="center">
<img width="400" alt="2" src="https://user-images.githubusercontent.com/63357508/97090067-7205d600-1672-11eb-8a50-2845805a609a.png">  
</p>


앱 심사가 통과되면 Reject 사유들을 기록해서 정리해야겠다 라고 생각하고 있었다..

그런데 심사가 통과된 후에 수신했던 메세지들과 나의 회신 메세지들은 어디에도 없었다.

기억이 사라지기 전에 생각나는대로 모두 기록 한다....  라고 하려던 찰나에 IOS 오픈 톡방에서 메일에 첨부된 링크 타고 갈수있다는 꿀팁받았다.😀

# 1.

```swift
2020 년 10 월 21 일 오전 5:24
Apple의 메시지
지침 1.5-안전-개발자 정보
앱의 메타 데이터 (https://github.com/ejdgudl/DDareungMap)에 지정된 지원 URL이 의도 한 대상으로 제대로 이동하지 않습니다.

다음 단계
이 문제를 해결하려면 지원 정보가있는 웹 페이지로 사용자를 연결하도록 앱의 지원 URL을 수정하세요.
```

위 사항은 당시 심사원의 네트워크 상태가 좋지 않았나 싶다. 

다시 한번 확인해달라고 회신.

# 2.

```swift
지침 2.1-성능-앱 완전성

Wi-Fi에서 iOS 14.0.1을 실행하는 iPad에서 검토했을 때 앱에서 하나 이상의 버그를 발견했습니다.
특히 확대 할 수 없습니다.

다음 단계
이 문제를 해결하려면 기기에서 앱을 실행하여 문제를 식별 한 다음 검토를 위해 앱을 수정하고 다시 제출하세요.
앱의 의도 된 동작을 잘못 이해 한 경우 해결 센터에서이 메시지에 회신하여 이러한 기능의 작동 방식에 대한 정보를 제공하세요.
새 앱의 경우 기기에서 이전 버전의 앱을 모두 제거한 다음 설치하고 단계에 따라 문제를 재현합니다. 업데이트의 경우 새 버전을 이전 버전에 대한 업데이트로 설치 한 다음 단계에 따라 문제를 재현합니다.

자원
앱 테스트 및 검토 준비에 대한 정보는 기술 노트 TN2431 : 앱 테스트 가이드를 참조하십시오.
네트워킹 개요는 네트워킹 정보를 참조하십시오.
```

이때를 회상하자면 앱을 처음 실행시켰을때 사용자가 위치사용을 허용한다는 전제하에  

프로젝트를 진행해서 이러한 결과를 초래했다.

사용자가 위치 사용 거부 했을때를 대비할 생각조차 못했던 것이다.

심사원은 사용 거부를 한채로 심사했었고 프로젝트에서는 

```swift
guard let coordinate = locationManager.location?.coordinate else { return }
```

위와 같이 해당함수가 진행되는 도중 guard에 걸려 return 되는 현상이 발생했던 것이다.

그래서 Optional Binding을 if 문으로 진행해서 사용자가 위치 사용을 허용했을때와 거부했을때의 대한 대응을 준비했다.

# 3.

```swift
지침 2.1-성능-앱 완전성
앱 또는 메타 데이터에 최종 콘텐츠가 포함되어 있지 않은 것 같습니다. 특히 앱 설명이 불충분하고 앱 기능에 대한 세부 정보가 부족합니다.
App Store에 앱을 제출하기 전에 모든 콘텐츠와 메타 데이터가 최종적이어야합니다. 앱에 자리 표시 자 또는 불완전한 정보가 포함되어서는 안됩니다. 예를 들어 앱 설명 필드에 "lorem ipsum"텍스트가있는 앱은 거부됩니다. 마찬가지로 "곧 스크린 샷 제공"과 같은 자리 표시 자 스크린 샷이있는 앱은 거부됩니다. 대신 전체 정보와 콘텐츠가 포함 된 앱만 제출해야합니다.

다음 단계
이 문제를 해결하려면 앱과 메타 데이터를 검토하여 모든 콘텐츠가 최종 내용인지 확인하세요.
```

앱 설명이 많이 부족했다고 피드백을 받았다.

나름 성의있게 썻다고 쓴건데 마음의 상처가.. 아니라 다시썻다.

# 4.

```swift
지침 4.2-설계-최소 기능
앱에 포함 된 최소한의 콘텐츠 또는 기능으로 인해 앱의 유용성이 제한되는 것으로 나타났습니다.

다음 단계
앱 개념을 검토하고 App Store 심사 지침을 준수하는 다양한 콘텐츠와 기능을 통합하는 것이 좋습니다.
유용하거나 재미있게 정의 할 수있는 엄격하고 빠른 규칙이 없다는 것을 알고 있지만 Apple 및 Apple 고객은 앱이 정말 훌륭한 사용자 경험을 제공 할 것으로 기대합니다. 앱은 귀중한 유틸리티 또는 엔터테인먼트를 제공하고, 매력적인 기능이나 콘텐츠를 제공하여 사람들을 끌어들이거나, 사람들이 이전에는 할 수 없었던 일이나 이전에는 할 수 없었던 방식으로 할 수 있도록해야합니다.
```

이 부분은 전 Reject 사유들로인한 부가적인 사유로 보인다. 

# 5.

```swift
지침 5.1.1-법률-개인 정보 보호-데이터 수집 및 저장
귀하의 앱이 위치 액세스에 대한 사용자의 동의를 요청했지만 해당 목적 문자열에서 위치 사용을 명확히 밝히지 않은 것으로 확인되었습니다.
앱이 개인 데이터에 대한 액세스를 요청하는 이유를 사용자가 이해할 수 있도록 앱의 모든 권한 요청 알림은 앱에서 요청 된 기능을 사용하는 방법을 지정해야합니다.

다음 단계
앱이 위치에 대한 액세스를 요청하는 이유를 지정하려면 앱의 Info.plist 파일에서 관련 목적 문자열을 수정하세요.
목적 문자열에 사용자 데이터가 사용되는 방법의 예가 포함되어 있는지 확인하십시오.
Xcode의 속성 목록 편집기를 사용하여 앱의 Info.plist 파일을 수정할 수 있습니다.

자원
권한 요청에 대한 추가 정보 및 지침은 iOS 휴먼 인터페이스 지침 및 정보 속성 목록 키 참조의 권한 요청 섹션을 검토하십시오. Technical Q를 검토 할 수도 있습니다.
```

사용자가 앱을 처음 실행시켰을때 위치 사용을 묻는 요청에서 문구가 적합하지 못하다는 피드백을 받았다.

액세스를 요청하는 이유를 사용자가 이해할 수 있도록 정확하게 쓰라는 조언.

```
This app requires your 
location data!
```

한글로 더욱 친절하게 수정했다.

# 6.

```
앱에서 사용자와 대여소 간의 거리를 
측정하기 위해 사용자의 위치를 사용하려고 합니다
```

```
2020 년 10 월 24 일 오후 10:23
Apple의 메시지
2. 1 성능 : 앱 완성도
지침 2.1-필요한 정보
앱 검토를 시작했지만 실제 iOS 기기에서 사용중인 앱의 현재 버전을 보여주는 동영상에 액세스해야하므로 계속할 수 없습니다.
특히, 앱이 성공적으로 기차역을 검색하고 해당 지점의지도보기를 표시하는 방법을 보여주는 데모 비디오를 제공하십시오.
시뮬레이터가 아닌 실제 iOS 장치에서 실행되는 앱의 데모 비디오에만 푸티지를 포함하십시오. 스크린 레코더를 사용하여 사용중인 앱의 영상을 캡처하는 것은 허용됩니다. 모든 관련 앱 기능, 서비스 및 권한이 데모 비디오에 명확하게 문서화되어 있는지 확인하십시오.

다음 단계
앱 검토를 진행하는 데 도움이되도록 App Store Connect의 앱 검토 정보 섹션에있는 데모 비디오 링크를 제공하고 해결 센터에서이 메시지에 회신하십시오.
데모 비디오에 대한 링크를 제공하려면 :
-App Store Connect에 로그인
- "내 앱"을 클릭합니다.
-앱 선택
-화면 왼쪽에서 앱 버전을 클릭하십시오.
- "앱 리뷰 정보"까지 아래로 스크롤합니다.
- "참고"섹션에서 데모 비디오 액세스 세부 정보 제공
-모든 변경을 완료 한 후 버전 정보 페이지 상단의 "저장"버튼을 클릭합니다.

데모 비디오를 통해서만 앱을 검토 할 수있는 경우 다시 제출할 때마다 업데이트 된 데모 비디오를 제공해야합니다.
자세한 내용은 첨부 된 스크린 샷을 참조하십시오.
```

지하철역 이름을 검색해서 해당 위치로 이동하는 기능이 있다.

하지만 심사원은 이기능이 제대로 작동하지 않는다며 계속해서 확인을 요청했다.

확인을 계속 해봤지만 프로젝트에서는 정상 작동되었으며 버전을 올리고 아카이브 해보고

빌드도 올리고 아카이브 해서 다시 제출을 시도해 봤지만 계속해서 작동이 불가능하다는 피드백을 받았다.

반복적인 결과탓에 앱의 기능구현이 정상적인지에 대한 데모 영상을 요청받았고 

첨부파일에 영상을 담아 다시 제출하였다. 혹시몰라 youtube에 업로드후에 url도 제공.

(이때 메세지 회신도 못하게 막아놔서 차단당한 기분이 들었다..)

다시 제출하고 1시간 후...
<p align="center">
<img width="250" alt="2" src="https://user-images.githubusercontent.com/63357508/97089358-218e7880-1672-11eb-94fe-b31e8bbbbc78.PNG">
  수고하셨습니다. 심사하신분 ㅜ
</p>



  
